Watching for file changes with StatReloader
Watching for file changes with StatReloader
Not Found: /
"GET / HTTP/1.1" 404 2162
Not Found: /favicon.ico
"GET /favicon.ico HTTP/1.1" 404 2213
Not Found: /api
"GET /api HTTP/1.1" 404 2189
Not Found: /api/
"GET /api/ HTTP/1.1" 404 2456
"GET /admin HTTP/1.1" 301 0
"GET /admin/ HTTP/1.1" 302 0
"GET /admin/login/?next=/admin/ HTTP/1.1" 200 2214
"GET /static/admin/css/login.css HTTP/1.1" 200 939
"GET /static/admin/css/nav_sidebar.css HTTP/1.1" 200 2271
"GET /static/admin/css/base.css HTTP/1.1" 200 19513
"GET /static/admin/css/responsive.css HTTP/1.1" 200 18545
"GET /static/admin/js/nav_sidebar.js HTTP/1.1" 200 1360
"GET /static/admin/css/fonts.css HTTP/1.1" 200 423
"GET /static/admin/fonts/Roboto-Regular-webfont.woff HTTP/1.1" 200 85876
"GET /static/admin/fonts/Roboto-Light-webfont.woff HTTP/1.1" 200 85692
Not Found: /get_details
"GET /get_details HTTP/1.1" 404 2213
"GET /api/get_details HTTP/1.1" 301 0
Received get_details request from user user1
Checking permission for user user1 with roles ['admin', 'editor'] to perform get_details
Error communicating with Cerbos: HTTPConnectionPool(host='cerbos', port=3592): Max retries exceeded with url: /api/check (Caused by NameResolutionError("<urllib3.connection.HTTPConnection object at 0x7fbf4b624f20>: Failed to resolve 'cerbos' ([Errno -2] Name or service not known)"))
Permission denied for user user1 to perform get_details
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
"GET /api/get_details HTTP/1.1" 301 0
Received get_details request from user user3
Checking permission for user user3 with roles ['editor', 'viewer'] to perform get_details
Error communicating with Cerbos: HTTPConnectionPool(host='cerbos', port=3592): Max retries exceeded with url: /api/check (Caused by NameResolutionError("<urllib3.connection.HTTPConnection object at 0x7fbf4b4f64b0>: Failed to resolve 'cerbos' ([Errno -2] Name or service not known)"))
Permission denied for user user3 to perform get_details
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
Received get_details request from user user3
Checking permission for user user3 with roles ['editor', 'viewer'] to perform get_details
Error communicating with Cerbos: HTTPConnectionPool(host='cerbos', port=3592): Max retries exceeded with url: /api/check (Caused by NameResolutionError("<urllib3.connection.HTTPConnection object at 0x7fbf4b4f5190>: Failed to resolve 'cerbos' ([Errno -2] Name or service not known)"))
Permission denied for user user3 to perform get_details
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
Received get_details request from user user2
Checking permission for user user2 with roles ['viewer'] to perform get_details
Error communicating with Cerbos: HTTPConnectionPool(host='cerbos', port=3592): Max retries exceeded with url: /api/check (Caused by NameResolutionError("<urllib3.connection.HTTPConnection object at 0x7fbf4b4f74a0>: Failed to resolve 'cerbos' ([Errno -2] Name or service not known)"))
Permission denied for user user2 to perform get_details
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
Received get_details request from user user1
Checking permission for user user1 with roles ['admin', 'editor'] to perform get_details
Error communicating with Cerbos: HTTPConnectionPool(host='cerbos', port=3592): Max retries exceeded with url: /api/check (Caused by NameResolutionError("<urllib3.connection.HTTPConnection object at 0x7fbf4b4f5130>: Failed to resolve 'cerbos' ([Errno -2] Name or service not known)"))
Permission denied for user user1 to perform get_details
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
Watching for file changes with StatReloader
Received get_details request from user user1
Checking permission for user user1 with roles ['admin', 'editor'] to perform get_details
Error communicating with Cerbos: HTTPConnectionPool(host='cerbos', port=3592): Max retries exceeded with url: /api/check (Caused by NameResolutionError("<urllib3.connection.HTTPConnection object at 0x7fe9aee205c0>: Failed to resolve 'cerbos' ([Errno -2] Name or service not known)"))
Permission denied for user user1 to perform get_details
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
"GET /api/get_details HTTP/1.1" 301 0
Received get_details request from user user1
Checking permission for user user1 with roles ['admin', 'editor'] to perform get_details
Error communicating with Cerbos: HTTPConnectionPool(host='cerbos', port=3592): Max retries exceeded with url: /api/check (Caused by NameResolutionError("<urllib3.connection.HTTPConnection object at 0x7fe9af064590>: Failed to resolve 'cerbos' ([Errno -2] Name or service not known)"))
Permission denied for user user1 to perform get_details
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
Watching for file changes with StatReloader
"GET /api/get_details HTTP/1.1" 301 0
Received get_details request from user user1
Checking permission for user user1 with roles ['admin', 'editor'] to perform get_details
Error communicating with Cerbos: HTTPConnectionPool(host='cerbos', port=3592): Max retries exceeded with url: /api/check (Caused by NameResolutionError("<urllib3.connection.HTTPConnection object at 0x7f566d5405c0>: Failed to resolve 'cerbos' ([Errno -2] Name or service not known)"))
Permission denied for user user1 to perform get_details
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
Received get_details request from user user1
Checking permission for user user1 with roles ['admin', 'editor'] to perform get_details
Error communicating with Cerbos: HTTPConnectionPool(host='cerbos', port=3592): Max retries exceeded with url: /api/check (Caused by NameResolutionError("<urllib3.connection.HTTPConnection object at 0x7f566d50d160>: Failed to resolve 'cerbos' ([Errno -2] Name or service not known)"))
Permission denied for user user1 to perform get_details
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
Watching for file changes with StatReloader
Watching for file changes with StatReloader
Received get_details request from user user1
Checking permission for user user1 with roles ['admin', 'editor'] to perform get_details
Cerbos response: 400, {"code":3,"message":"proto: (line 1:84): unknown field \"action\""}
Permission denied for user user1 to perform get_details
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
Received get_details request from user user1
Checking permission for user user1 with roles ['admin', 'editor'] to perform get_details
Cerbos response: 400, {"code":3,"message":"proto: (line 1:84): unknown field \"action\""}
Permission denied for user user1 to perform get_details
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
"GET /api/get_details HTTP/1.1" 301 0
Received get_details request from user user1
Checking permission for user user1 with roles ['admin', 'editor'] to perform get_details
Cerbos response: 400, {"code":3,"message":"proto: (line 1:84): unknown field \"action\""}
Permission denied for user user1 to perform get_details
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
Received get_details request from user user3
Checking permission for user user3 with roles ['editor', 'viewer'] to perform get_details
Cerbos response: 400, {"code":3,"message":"proto: (line 1:85): unknown field \"action\""}
Permission denied for user user3 to perform get_details
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
Received get_details request from user None
Checking permission for user None with roles [] to perform get_details
Cerbos response: 400, {"code":3,"message":"proto: (line 1:67): unknown field \"action\""}
Permission denied for user None to perform get_details
Internal Server Error: /api/get_details/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 204, in _get_response
    response = response.render()
               ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/response.py", line 105, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/response.py", line 74, in rendered_content
    ret = renderer.render(self.data, accepted_media_type, context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/renderers.py", line 725, in render
    template = loader.get_template(self.template)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/loader.py", line 19, in get_template
    raise TemplateDoesNotExist(template_name, chain=chain)
django.template.exceptions.TemplateDoesNotExist: rest_framework/api.html
"GET /api/get_details/ HTTP/1.1" 500 73430
Not Found: /get_details
"GET /get_details HTTP/1.1" 404 2213
Received get_details request from user user3
Checking permission for user user3 with roles ['editor', 'viewer'] to perform get_details
Cerbos response: 400, {"code":3,"message":"proto: (line 1:85): unknown field \"action\""}
Permission denied for user user3 to perform get_details
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
Received get_details request from user user1
Checking permission for user user1 with roles ['admin', 'editor'] to perform get_details
Cerbos response: 400, {"code":3,"message":"proto: (line 1:84): unknown field \"action\""}
Permission denied for user user1 to perform get_details
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
/code/assignment/cerbos_utils.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
Received get_details request from user user3
Checking permission for user user3 with roles ['editor', 'viewer'] to perform get_details
Cerbos response: 400, {"code":3,"message":"validation error:\n - actions: value is required [required]\n - principal.id: value is required [required]\n - resource.instances: value is required [required]"}
Permission denied for user user3 to perform get_details
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
Received get_details request from user user3
Checking permission for user user3 with roles ['editor', 'viewer'] to perform get_details
Cerbos response: 400, {"code":3,"message":"validation error:\n - actions: value is required [required]\n - principal.id: value is required [required]\n - resource.instances: value is required [required]"}
Permission denied for user user3 to perform get_details
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
Received get_details request from user user1
Checking permission for user user1 with roles ['admin', 'editor'] to perform get_details
Cerbos response: 400, {"code":3,"message":"validation error:\n - actions: value is required [required]\n - principal.id: value is required [required]\n - resource.instances: value is required [required]"}
Permission denied for user user1 to perform get_details
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
/code/assignment/cerbos_utils.py changed, reloading.
Watching for file changes with StatReloader
/code/assignment/cerbos_utils.py changed, reloading.
Watching for file changes with StatReloader
Received get_details request from user user1
Checking permission for user user1 with roles ['admin', 'editor'] to perform get_details
Cerbos response: 400, {"code":3,"message":"proto: syntax error (line 1:95): unexpected token \"get_details\""}
Permission denied for user user1 to perform get_details
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
Watching for file changes with StatReloader
Received get_details request from user user1
Checking permission for user user1 with roles ['admin', 'editor'] to perform get_details
Cerbos response: 400, {"code":3,"message":"proto: syntax error (line 1:95): unexpected token \"get_details\""}
Permission denied for user user1 to perform get_details
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
Received get_details request from user user1
Checking permission for user user1 with roles ['admin', 'editor'] to perform get_details
Cerbos response: 400, {"code":3,"message":"proto: syntax error (line 1:95): unexpected token \"get_details\""}
Permission denied for user user1 to perform get_details
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
/code/assignment/cerbos_utils.py changed, reloading.
Watching for file changes with StatReloader
Received get_details request from user user1
Checking permission for user user1 with roles ['admin', 'editor'] to perform get_details
Cerbos response: 400, {"code":3,"message":"proto: syntax error (line 1:95): unexpected token \"get_details\""}
Permission denied for user user1 to perform get_details
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
Watching for file changes with StatReloader
Received get_details request from user user1
Checking permission for user user1 with roles ['admin', 'editor'] to perform get_details
Cerbos response: 400, {"code":3,"message":"proto: syntax error (line 1:95): unexpected token \"get_details\""}
Permission denied for user user1 to perform get_details
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
/code/assignment/cerbos_utils.py changed, reloading.
Watching for file changes with StatReloader
Received get_details request from user user1
Checking permission for user user1 with roles ['admin', 'editor'] to perform get_details
Cerbos response: 400, {"code":3,"message":"proto: syntax error (line 1:95): unexpected token \"get_details\""}
Permission denied for user user1 to perform get_details
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
/code/assignment/cerbos_utils.py changed, reloading.
Watching for file changes with StatReloader
Received get_details request from user user1
Checking permission for user user1 with roles ['admin', 'editor'] to perform get_details
Cerbos response: 400, {"code":3,"message":"proto: (line 1:84): unknown field \"action\""}
Permission denied for user user1 to perform get_details
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
/code/assignment/cerbos_utils.py changed, reloading.
Watching for file changes with StatReloader
Received get_details request from user user1
Cerbos response: 400, {"code":3,"message":"proto: (line 1:98): unknown field \"attributes\""}
Permission denied for user user1 to perform get_details
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
/code/assignment/cerbos_utils.py changed, reloading.
Watching for file changes with StatReloader
Received get_details request from user user1
Cerbos response: 400, {"code":3,"message":"proto: (line 1:62): unknown field \"resources\""}
Permission denied for user user1 to perform get_details
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
/code/assignment/cerbos_utils.py changed, reloading.
Watching for file changes with StatReloader
Received get_details request from user user1
Checking permission for user user1 with roles ['admin', 'editor'] to perform get_details
Payload sent to Cerbos: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction'}, 'actions': ['get_details']}
Cerbos response: 400, {"code":3,"message":"validation error:\n - resource.instances: value is required [required]"}
Permission denied for user user1 to perform get_details
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
/code/assignment/cerbos_utils.py changed, reloading.
Watching for file changes with StatReloader
Received get_details request from user user1
Checking permission for user user1 with roles ['admin', 'editor'] to perform get_details
Payload sent to Cerbos: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {'default': {'attr': 'value'}}}, 'actions': ['get_details']}
Cerbos response: 400, {"code":3,"message":"proto: syntax error (line 1:132): unexpected token \"value\""}
Permission denied for user user1 to perform get_details
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
/code/assignment/cerbos_utils.py changed, reloading.
Watching for file changes with StatReloader
/code/assignment/cerbos_utils.py changed, reloading.
Watching for file changes with StatReloader
/code/assignment/cerbos_utils.py changed, reloading.
Watching for file changes with StatReloader
Received get_details request from user user1
Checking permission for user user1 with roles ['admin', 'editor'] to perform get_details
Payload sent to Cerbos: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction'}, 'actions': ['get_details']}
Cerbos response: 400, {"code":3,"message":"validation error:\n - resource.instances: value is required [required]"}
Permission denied for user user1 to perform get_details
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
/code/assignment/cerbos_utils.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
Received get_details request from user user1
Checking permission for user user1 with roles ['admin', 'editor'] to perform get_details
Payload sent to Cerbos: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction'}, 'actions': ['get_details']}
Cerbos response: 400, {"code":3,"message":"validation error:\n - resource.instances: value is required [required]"}
Permission denied for user user1 to perform get_details
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
/code/assignment/cerbos_utils.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
Received get_details request from user user1
Checking permission for user user1 with roles ['admin', 'editor'] to perform get_details
Payload sent to Cerbos: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {'some-resource-id': {}}}, 'actions': ['get_details']}
Cerbos response: 200, {"resourceInstances":{"some-resource-id":{"actions":{"get_details":"EFFECT_ALLOW"}}}}
Permission denied for user user1 to perform get_details
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
/code/assignment/cerbos_utils.py changed, reloading.
Watching for file changes with StatReloader
Received get_details request from user user1
Checking permission for user user1 with roles ['admin', 'editor'] to perform get_details
Payload sent to Cerbos: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {'some-resource-id': {}}}, 'actions': ['get_details']}
Cerbos response: 200, {"resourceInstances":{"some-resource-id":{"actions":{"get_details":"EFFECT_ALLOW"}}}}
Permission granted for user user1 to perform get_details
"GET /api/get_details/ HTTP/1.1" 200 27
Received get_details request from user user2
Checking permission for user user2 with roles ['viewer'] to perform get_details
Payload sent to Cerbos: {'principal': {'id': 'user2', 'roles': ['viewer']}, 'resource': {'kind': 'transaction', 'instances': {'some-resource-id': {}}}, 'actions': ['get_details']}
Cerbos response: 200, {"resourceInstances":{"some-resource-id":{"actions":{"get_details":"EFFECT_DENY"}}}}
Permission denied for user user2 to perform get_details
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
Received get_details request from user user3
Checking permission for user user3 with roles ['editor', 'viewer'] to perform get_details
Payload sent to Cerbos: {'principal': {'id': 'user3', 'roles': ['editor', 'viewer']}, 'resource': {'kind': 'transaction', 'instances': {'some-resource-id': {}}}, 'actions': ['get_details']}
Cerbos response: 200, {"resourceInstances":{"some-resource-id":{"actions":{"get_details":"EFFECT_ALLOW"}}}}
Permission granted for user user3 to perform get_details
"GET /api/get_details/ HTTP/1.1" 200 27
Watching for file changes with StatReloader
Received save_details request from user user3 with data: {'phone': '0503889380'}
Checking permission for user user3 with roles ['editor', 'viewer'] to perform save_details
Payload sent to Cerbos: {'principal': {'id': 'user3', 'roles': ['editor', 'viewer']}, 'resource': {'kind': 'transaction', 'instances': {'some-resource-id': {}}}, 'actions': ['save_details']}
Cerbos response: 200, {"resourceInstances":{"some-resource-id":{"actions":{"save_details":"EFFECT_DENY"}}}}
Permission denied for user user3 to perform save_details
Forbidden: /api/save_details/
"POST /api/save_details/ HTTP/1.1" 403 0
Received save_details request from user user2 with data: {'phone': '0503889380'}
Checking permission for user user2 with roles ['viewer'] to perform save_details
Payload sent to Cerbos: {'principal': {'id': 'user2', 'roles': ['viewer']}, 'resource': {'kind': 'transaction', 'instances': {'some-resource-id': {}}}, 'actions': ['save_details']}
Cerbos response: 200, {"resourceInstances":{"some-resource-id":{"actions":{"save_details":"EFFECT_DENY"}}}}
Permission denied for user user2 to perform save_details
Forbidden: /api/save_details/
"POST /api/save_details/ HTTP/1.1" 403 0
Received save_details request from user user1 with data: {'phone': '0503889380'}
Checking permission for user user1 with roles ['admin', 'editor'] to perform save_details
Payload sent to Cerbos: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {'some-resource-id': {}}}, 'actions': ['save_details']}
Cerbos response: 200, {"resourceInstances":{"some-resource-id":{"actions":{"save_details":"EFFECT_ALLOW"}}}}
Data from user user1 is invalid: {'transaction_id': [ErrorDetail(string='This field is required.', code='required')], 'amount': [ErrorDetail(string='This field is required.', code='required')]}
Bad Request: /api/save_details/
"POST /api/save_details/ HTTP/1.1" 400 83
Method Not Allowed: /api/get_details/
"POST /api/get_details/ HTTP/1.1" 405 41
Received get_details request from user user1
Checking permission for user user1 with roles ['admin', 'editor'] to perform get_details
Payload sent to Cerbos: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {'some-resource-id': {}}}, 'actions': ['get_details']}
Cerbos response: 200, {"resourceInstances":{"some-resource-id":{"actions":{"get_details":"EFFECT_ALLOW"}}}}
Permission granted for user user1 to perform get_details
"GET /api/get_details/ HTTP/1.1" 200 27
Received save_details request from user user1 with data: {'phone': '0503889380'}
Checking permission for user user1 with roles ['admin', 'editor'] to perform save_details
Payload sent to Cerbos: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {'some-resource-id': {}}}, 'actions': ['save_details']}
Cerbos response: 200, {"resourceInstances":{"some-resource-id":{"actions":{"save_details":"EFFECT_ALLOW"}}}}
Data from user user1 is invalid: {'transaction_id': [ErrorDetail(string='This field is required.', code='required')], 'amount': [ErrorDetail(string='This field is required.', code='required')]}
Bad Request: /api/save_details/
"POST /api/save_details/ HTTP/1.1" 400 83
/code/assignment/views.py changed, reloading.
Watching for file changes with StatReloader
Received save_details request from user user1 with data: {'phone': '0503889380'}
Checking permission for user user1 with roles ['admin', 'editor'] to perform save_details
Payload sent to Cerbos: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {'some-resource-id': {}}}, 'actions': ['save_details']}
Cerbos response: 200, {"resourceInstances":{"some-resource-id":{"actions":{"save_details":"EFFECT_ALLOW"}}}}
Data from user user1 is invalid: {'transaction_id': [ErrorDetail(string='This field is required.', code='required')], 'amount': [ErrorDetail(string='This field is required.', code='required')]}
Bad Request: /api/save_details/
"POST /api/save_details/ HTTP/1.1" 400 83
/code/assignment/views.py changed, reloading.
Watching for file changes with StatReloader
Received save_details request from user user1 with data: {'phone': '0503889380'}
Checking permission for user user1 with roles ['admin', 'editor'] to perform save_details
Payload sent to Cerbos: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {'some-resource-id': {}}}, 'actions': ['save_details']}
Cerbos response: 200, {"resourceInstances":{"some-resource-id":{"actions":{"save_details":"EFFECT_ALLOW"}}}}
Data from user user1 is invalid: {'transaction_id': [ErrorDetail(string='This field is required.', code='required')], 'amount': [ErrorDetail(string='This field is required.', code='required')]}
Bad Request: /api/save_details/
"POST /api/save_details/ HTTP/1.1" 400 83
/code/assignment/cerbos_utils.py changed, reloading.
Watching for file changes with StatReloader
Received save_details request from user user1 with data: {'phone': '0503889380'}
Checking permission for user user1 with roles ['admin', 'editor'] to perform save_details
Payload sent to Cerbos: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {'transaction_id': {}}}, 'actions': ['save_details']}
Cerbos response: 200, {"resourceInstances":{"transaction_id":{"actions":{"save_details":"EFFECT_ALLOW"}}}}
Permission denied for user user1 to perform save_details
Forbidden: /api/save_details/
"POST /api/save_details/ HTTP/1.1" 403 0
Received get_details request from user user1
Checking permission for user user1 with roles ['admin', 'editor'] to perform get_details
Payload sent to Cerbos: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {'transaction_id': {}}}, 'actions': ['get_details']}
Cerbos response: 200, {"resourceInstances":{"transaction_id":{"actions":{"get_details":"EFFECT_ALLOW"}}}}
Permission denied for user user1 to perform get_details
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
/code/assignment/cerbos_utils.py changed, reloading.
Watching for file changes with StatReloader
/code/assignment/views.py changed, reloading.
Watching for file changes with StatReloader
Received save_details request from user user1 with data: {'phone': '0503889380'}
Checking permission for user user1 with roles ['admin', 'editor'] to perform save_details
Payload sent to Cerbos: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {'some-resource-id': {}}}, 'actions': ['save_details']}
Cerbos response: 200, {"resourceInstances":{"some-resource-id":{"actions":{"save_details":"EFFECT_ALLOW"}}}}
Data from user user1 is invalid: {'transaction_id': [ErrorDetail(string='This field is required.', code='required')], 'amount': [ErrorDetail(string='This field is required.', code='required')]}
Bad Request: /api/save_details/
"POST /api/save_details/ HTTP/1.1" 400 83
Received save_details request from user user1 with data: {'amount': 60}
Checking permission for user user1 with roles ['admin', 'editor'] to perform save_details
Payload sent to Cerbos: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {'some-resource-id': {}}}, 'actions': ['save_details']}
Cerbos response: 200, {"resourceInstances":{"some-resource-id":{"actions":{"save_details":"EFFECT_ALLOW"}}}}
Data from user user1 is invalid: {'transaction_id': [ErrorDetail(string='This field is required.', code='required')]}
Bad Request: /api/save_details/
"POST /api/save_details/ HTTP/1.1" 400 46
Received save_details request from user user1 with data: {'amount': 60.0}
Checking permission for user user1 with roles ['admin', 'editor'] to perform save_details
Payload sent to Cerbos: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {'some-resource-id': {}}}, 'actions': ['save_details']}
Cerbos response: 200, {"resourceInstances":{"some-resource-id":{"actions":{"save_details":"EFFECT_ALLOW"}}}}
Data from user user1 is invalid: {'transaction_id': [ErrorDetail(string='This field is required.', code='required')]}
Bad Request: /api/save_details/
"POST /api/save_details/ HTTP/1.1" 400 46
Received save_details request from user user1 with data: <QueryDict: {'amount': ['60']}>
Checking permission for user user1 with roles ['admin', 'editor'] to perform save_details
Payload sent to Cerbos: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {'some-resource-id': {}}}, 'actions': ['save_details']}
Cerbos response: 200, {"resourceInstances":{"some-resource-id":{"actions":{"save_details":"EFFECT_ALLOW"}}}}
Data from user user1 is invalid: {'transaction_id': [ErrorDetail(string='This field is required.', code='required')]}
Bad Request: /api/save_details/
"POST /api/save_details/ HTTP/1.1" 400 46
Received save_details request from user user1 with data: {'amount': 'a'}
Checking permission for user user1 with roles ['admin', 'editor'] to perform save_details
Payload sent to Cerbos: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {'some-resource-id': {}}}, 'actions': ['save_details']}
Cerbos response: 200, {"resourceInstances":{"some-resource-id":{"actions":{"save_details":"EFFECT_ALLOW"}}}}
Data from user user1 is invalid: {'transaction_id': [ErrorDetail(string='This field is required.', code='required')], 'amount': [ErrorDetail(string='A valid number is required.', code='invalid')]}
Bad Request: /api/save_details/
"POST /api/save_details/ HTTP/1.1" 400 87
Received save_details request from user user1 with data: {'amount': 60.0}
Checking permission for user user1 with roles ['admin', 'editor'] to perform save_details
Payload sent to Cerbos: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {'some-resource-id': {}}}, 'actions': ['save_details']}
Cerbos response: 200, {"resourceInstances":{"some-resource-id":{"actions":{"save_details":"EFFECT_ALLOW"}}}}
Data from user user1 is invalid: {'transaction_id': [ErrorDetail(string='This field is required.', code='required')]}
Bad Request: /api/save_details/
"POST /api/save_details/ HTTP/1.1" 400 46
Received save_details request from user user1 with data: {'amount': '60.0'}
Checking permission for user user1 with roles ['admin', 'editor'] to perform save_details
Payload sent to Cerbos: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {'some-resource-id': {}}}, 'actions': ['save_details']}
Cerbos response: 200, {"resourceInstances":{"some-resource-id":{"actions":{"save_details":"EFFECT_ALLOW"}}}}
Data from user user1 is invalid: {'transaction_id': [ErrorDetail(string='This field is required.', code='required')]}
Bad Request: /api/save_details/
"POST /api/save_details/ HTTP/1.1" 400 46
Received save_details request from user user1 with data: {'amount': 60.0, 'transaction_id': 1}
Checking permission for user user1 with roles ['admin', 'editor'] to perform save_details
Payload sent to Cerbos: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {'some-resource-id': {}}}, 'actions': ['save_details']}
Cerbos response: 200, {"resourceInstances":{"some-resource-id":{"actions":{"save_details":"EFFECT_ALLOW"}}}}
Data from user user1 is valid. Saving details.
"POST /api/save_details/ HTTP/1.1" 200 36
Received get_details request from user user1
Checking permission for user user1 with roles ['admin', 'editor'] to perform get_details
Payload sent to Cerbos: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {'some-resource-id': {}}}, 'actions': ['get_details']}
Cerbos response: 200, {"resourceInstances":{"some-resource-id":{"actions":{"get_details":"EFFECT_ALLOW"}}}}
Permission granted for user user1 to perform get_details
"GET /api/get_details/ HTTP/1.1" 200 27
Received get_details request from user user2
Checking permission for user user2 with roles ['viewer'] to perform get_details
Payload sent to Cerbos: {'principal': {'id': 'user2', 'roles': ['viewer']}, 'resource': {'kind': 'transaction', 'instances': {'some-resource-id': {}}}, 'actions': ['get_details']}
Cerbos response: 200, {"resourceInstances":{"some-resource-id":{"actions":{"get_details":"EFFECT_DENY"}}}}
Permission denied for user user2 to perform get_details
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
Received get_details request from user user3
Checking permission for user user3 with roles ['editor', 'viewer'] to perform get_details
Payload sent to Cerbos: {'principal': {'id': 'user3', 'roles': ['editor', 'viewer']}, 'resource': {'kind': 'transaction', 'instances': {'some-resource-id': {}}}, 'actions': ['get_details']}
Cerbos response: 200, {"resourceInstances":{"some-resource-id":{"actions":{"get_details":"EFFECT_ALLOW"}}}}
Permission granted for user user3 to perform get_details
"GET /api/get_details/ HTTP/1.1" 200 27
Method Not Allowed: /api/save_details/
"GET /api/save_details/ HTTP/1.1" 405 40
Received save_details request from user user3 with data: {'amount': 60.0, 'transaction_id': 1}
Checking permission for user user3 with roles ['editor', 'viewer'] to perform save_details
Payload sent to Cerbos: {'principal': {'id': 'user3', 'roles': ['editor', 'viewer']}, 'resource': {'kind': 'transaction', 'instances': {'some-resource-id': {}}}, 'actions': ['save_details']}
Cerbos response: 200, {"resourceInstances":{"some-resource-id":{"actions":{"save_details":"EFFECT_DENY"}}}}
Permission denied for user user3 to perform save_details
Forbidden: /api/save_details/
"POST /api/save_details/ HTTP/1.1" 403 0
Received save_details request from user user1 with data: {'amount': 60.0, 'transaction_id': 1}
Checking permission for user user1 with roles ['admin', 'editor'] to perform save_details
Payload sent to Cerbos: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {'some-resource-id': {}}}, 'actions': ['save_details']}
Cerbos response: 200, {"resourceInstances":{"some-resource-id":{"actions":{"save_details":"EFFECT_ALLOW"}}}}
Data from user user1 is valid. Saving details.
"POST /api/save_details/ HTTP/1.1" 200 36
/code/assignment/cerbos_utils.py changed, reloading.
Watching for file changes with StatReloader
/code/assignment/views.py changed, reloading.
Watching for file changes with StatReloader
Received save_details request from user user1 with data: {'amount': 60.0, 'transaction_id': 1}
Retrieved roles for user user1: ['admin', 'editor']
Constructed Cerbos payload: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {1: {}}}, 'actions': ['save_details']}
Cerbos API response: 200, {"resourceInstances":{"1":{"actions":{"save_details":"EFFECT_ALLOW"}}}}
Permission check result for user user1, action save_details on resource 1: False
Permission denied for user user1 to perform save_details on transaction 1
Forbidden: /api/save_details/
"POST /api/save_details/ HTTP/1.1" 403 0
/code/assignment/cerbos_utils.py changed, reloading.
Watching for file changes with StatReloader
Received save_details request from user user1 with data: {'amount': 60.0, 'transaction_id': 1}
Retrieved roles for user user1: ['admin', 'editor']
Constructed Cerbos payload: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {'1': {}}}, 'actions': ['save_details']}
Cerbos API response: 200, {"resourceInstances":{"1":{"actions":{"save_details":"EFFECT_ALLOW"}}}}
Permission check result for user user1, action save_details on resource 1: False
Permission denied for user user1 to perform save_details on transaction 1
Forbidden: /api/save_details/
"POST /api/save_details/ HTTP/1.1" 403 0
Received save_details request from user user1 with data: {'amount': 60.0, 'transaction_id': '1'}
Retrieved roles for user user1: ['admin', 'editor']
Constructed Cerbos payload: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {'1': {}}}, 'actions': ['save_details']}
Cerbos API response: 200, {"resourceInstances":{"1":{"actions":{"save_details":"EFFECT_ALLOW"}}}}
Permission check result for user user1, action save_details on resource 1: True
Data from user user1 is valid. Saving details for transaction 1.
"POST /api/save_details/ HTTP/1.1" 200 36
Received save_details request from user user1 with data: {'amount': 60.0, 'transaction_id': 1}
Retrieved roles for user user1: ['admin', 'editor']
Constructed Cerbos payload: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {'1': {}}}, 'actions': ['save_details']}
Cerbos API response: 200, {"resourceInstances":{"1":{"actions":{"save_details":"EFFECT_ALLOW"}}}}
Permission check result for user user1, action save_details on resource 1: False
Permission denied for user user1 to perform save_details on transaction 1
Forbidden: /api/save_details/
"POST /api/save_details/ HTTP/1.1" 403 0
/code/assignment/cerbos_utils.py changed, reloading.
Watching for file changes with StatReloader
Received save_details request from user user1 with data: {'amount': 60.0, 'transaction_id': 1}
Retrieved roles for user user1: ['admin', 'editor']
Constructed Cerbos payload: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {1: {}}}, 'actions': ['save_details']}
Cerbos API response: 200, {"resourceInstances":{"1":{"actions":{"save_details":"EFFECT_ALLOW"}}}}
Permission check result for user user1, action save_details on resource 1: False
Permission denied for user user1 to perform save_details on transaction 1
Forbidden: /api/save_details/
"POST /api/save_details/ HTTP/1.1" 403 0
Received save_details request from user user1 with data: {'amount': 60.0, 'transaction_id': '1'}
Retrieved roles for user user1: ['admin', 'editor']
Constructed Cerbos payload: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {'1': {}}}, 'actions': ['save_details']}
Cerbos API response: 200, {"resourceInstances":{"1":{"actions":{"save_details":"EFFECT_ALLOW"}}}}
Permission check result for user user1, action save_details on resource 1: True
Data from user user1 is valid. Saving details for transaction 1.
"POST /api/save_details/ HTTP/1.1" 200 36
/code/assignment/cerbos_utils.py changed, reloading.
Watching for file changes with StatReloader
/code/assignment/serializers.py changed, reloading.
Watching for file changes with StatReloader
Received save_details request from user user1 with data: {'amount': 60.0, 'transaction_id': '1'}
Retrieved roles for user user1: ['admin', 'editor']
Constructed Cerbos payload: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {'1': {}}}, 'actions': ['save_details']}
Cerbos API response: 200, {"resourceInstances":{"1":{"actions":{"save_details":"EFFECT_ALLOW"}}}}
Permission check result for user user1, action save_details on resource 1: True
Data from user user1 is valid. Saving details for transaction 1.
"POST /api/save_details/ HTTP/1.1" 200 36
Received save_details request from user user1 with data: {'amount': 60.0, 'transaction_id': 1}
Retrieved roles for user user1: ['admin', 'editor']
Constructed Cerbos payload: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {1: {}}}, 'actions': ['save_details']}
Cerbos API response: 200, {"resourceInstances":{"1":{"actions":{"save_details":"EFFECT_ALLOW"}}}}
Permission check result for user user1, action save_details on resource 1: False
Permission denied for user user1 to perform save_details on transaction 1
Forbidden: /api/save_details/
"POST /api/save_details/ HTTP/1.1" 403 0
/code/assignment/serializers.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
Received save_details request from user user1 with data: {'amount': 60.0, 'transaction_id': '1'}
Retrieved roles for user user1: ['admin', 'editor']
Constructed Cerbos payload: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {'1': {}}}, 'actions': ['save_details']}
Cerbos API response: 200, {"resourceInstances":{"1":{"actions":{"save_details":"EFFECT_ALLOW"}}}}
Permission check result for user user1, action save_details on resource 1: True
Data from user user1 is valid. Saving details for transaction 1.
"POST /api/save_details/ HTTP/1.1" 200 36
Received save_details request from user user1 with data: {'amount': 60.0, 'transaction_id': 1}
Retrieved roles for user user1: ['admin', 'editor']
Constructed Cerbos payload: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {1: {}}}, 'actions': ['save_details']}
Cerbos API response: 200, {"resourceInstances":{"1":{"actions":{"save_details":"EFFECT_ALLOW"}}}}
Permission check result for user user1, action save_details on resource 1: False
Permission denied for user user1 to perform save_details on transaction 1
Forbidden: /api/save_details/
"POST /api/save_details/ HTTP/1.1" 403 0
Received save_details request from user user1 with data: {'amount': 60.0, 'transaction_id': 1.0}
Retrieved roles for user user1: ['admin', 'editor']
Constructed Cerbos payload: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {1.0: {}}}, 'actions': ['save_details']}
Cerbos API response: 200, {"resourceInstances":{"1.0":{"actions":{"save_details":"EFFECT_ALLOW"}}}}
Permission check result for user user1, action save_details on resource 1.0: False
Permission denied for user user1 to perform save_details on transaction 1.0
Forbidden: /api/save_details/
"POST /api/save_details/ HTTP/1.1" 403 0
Received save_details request from user user1 with data: {'amount': 60.0, 'transaction_id': '1'}
Retrieved roles for user user1: ['admin', 'editor']
Constructed Cerbos payload: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {'1': {}}}, 'actions': ['save_details']}
Cerbos API response: 200, {"resourceInstances":{"1":{"actions":{"save_details":"EFFECT_ALLOW"}}}}
Permission check result for user user1, action save_details on resource 1: True
Data from user user1 is valid. Saving details for transaction 1.
"POST /api/save_details/ HTTP/1.1" 200 36
Received save_details request from user user1 with data: {'amount': 60, 'transaction_id': '1'}
Retrieved roles for user user1: ['admin', 'editor']
Constructed Cerbos payload: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {'1': {}}}, 'actions': ['save_details']}
Cerbos API response: 200, {"resourceInstances":{"1":{"actions":{"save_details":"EFFECT_ALLOW"}}}}
Permission check result for user user1, action save_details on resource 1: True
Data from user user1 is valid. Saving details for transaction 1.
"POST /api/save_details/ HTTP/1.1" 200 36
Received save_details request from user user1 with data: {'amount': 60, 'transaction_id': 1}
Retrieved roles for user user1: ['admin', 'editor']
Constructed Cerbos payload: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {1: {}}}, 'actions': ['save_details']}
Cerbos API response: 200, {"resourceInstances":{"1":{"actions":{"save_details":"EFFECT_ALLOW"}}}}
Permission check result for user user1, action save_details on resource 1: False
Permission denied for user user1 to perform save_details on transaction 1
Forbidden: /api/save_details/
"POST /api/save_details/ HTTP/1.1" 403 0
/code/assignment/serializers.py changed, reloading.
Watching for file changes with StatReloader
/code/assignment/serializers.py changed, reloading.
Watching for file changes with StatReloader
Received save_details request from user user1 with data: {'amount': 60, 'transaction_id': 1}
Retrieved roles for user user1: ['admin', 'editor']
Constructed Cerbos payload: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {1: {}}}, 'actions': ['save_details']}
Cerbos API response: 200, {"resourceInstances":{"1":{"actions":{"save_details":"EFFECT_ALLOW"}}}}
Permission check result for user user1, action save_details on resource 1: False
Permission denied for user user1 to perform save_details on transaction 1
Forbidden: /api/save_details/
"POST /api/save_details/ HTTP/1.1" 403 0
Received save_details request from user user1 with data: {'amount': 60, 'transaction_id': 1}
Retrieved roles for user user1: ['admin', 'editor']
Constructed Cerbos payload: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {1: {}}}, 'actions': ['save_details']}
Cerbos API response: 200, {"resourceInstances":{"1":{"actions":{"save_details":"EFFECT_ALLOW"}}}}
Permission check result for user user1, action save_details on resource 1: False
Permission denied for user user1 to perform save_details on transaction 1
Forbidden: /api/save_details/
"POST /api/save_details/ HTTP/1.1" 403 0
/code/assignment/cerbos_utils.py changed, reloading.
Watching for file changes with StatReloader
Received save_details request from user user1 with data: {'amount': 60, 'transaction_id': 1}
Retrieved roles for user user1: ['admin', 'editor']
Constructed Cerbos payload: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {'1': {}}}, 'actions': ['save_details']}
Cerbos API response: 200, {"resourceInstances":{"1":{"actions":{"save_details":"EFFECT_ALLOW"}}}}
Permission check result for user user1, action save_details on resource 1: False
Permission denied for user user1 to perform save_details on transaction 1
Forbidden: /api/save_details/
"POST /api/save_details/ HTTP/1.1" 403 0
Received save_details request from user user1 with data: {'amount': 60, 'transaction_id': 1}
Retrieved roles for user user1: ['admin', 'editor']
Constructed Cerbos payload: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {'1': {}}}, 'actions': ['save_details']}
Cerbos API response: 200, {"resourceInstances":{"1":{"actions":{"save_details":"EFFECT_ALLOW"}}}}
Permission check result for user user1, action save_details on resource 1: False
Permission denied for user user1 to perform save_details on transaction 1
Forbidden: /api/save_details/
"POST /api/save_details/ HTTP/1.1" 403 0
Received save_details request from user user1 with data: {'amount': 60, 'transaction_id': 1}
Retrieved roles for user user1: ['admin', 'editor']
Constructed Cerbos payload: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {'1': {}}}, 'actions': ['save_details']}
Cerbos API response: 200, {"resourceInstances":{"1":{"actions":{"save_details":"EFFECT_ALLOW"}}}}
Permission check result for user user1, action save_details on resource 1: False
Permission denied for user user1 to perform save_details on transaction 1
Forbidden: /api/save_details/
"POST /api/save_details/ HTTP/1.1" 403 0
/code/assignment/cerbos_utils.py changed, reloading.
Watching for file changes with StatReloader
Received save_details request from user user1 with data: {'amount': 60, 'transaction_id': 1}
Retrieved roles for user user1: ['admin', 'editor']
Constructed Cerbos payload: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {'1': {}}}, 'actions': ['save_details']}
Cerbos API response: 200, {"resourceInstances":{"1":{"actions":{"save_details":"EFFECT_ALLOW"}}}}
Permission check result for user user1, action save_details on resource 1: True
Data from user user1 is valid. Saving details for transaction 1.
"POST /api/save_details/ HTTP/1.1" 200 34
/code/assignment/cerbos_utils.py changed, reloading.
Watching for file changes with StatReloader
Received save_details request from user user1 with data: {'amount': 60, 'transaction_id': 1}
Retrieved roles for user user1: ['admin', 'editor']
Constructed Cerbos payload: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {1: {}}}, 'actions': ['save_details']}
Cerbos API response: 200, {"resourceInstances":{"1":{"actions":{"save_details":"EFFECT_ALLOW"}}}}
Permission check result for user user1, action save_details on resource 1: True
Data from user user1 is valid. Saving details for transaction 1.
"POST /api/save_details/ HTTP/1.1" 200 34
Method Not Allowed: /api/save_details/
"GET /api/save_details/ HTTP/1.1" 405 40
Received get_details request from user user1 for transaction None
Transaction ID not provided in request
Bad Request: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 400 38
Received get_details request from user user1 for transaction None
Transaction ID not provided in request
Bad Request: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 400 38
Received get_details request from user user1 for transaction None
Transaction ID not provided in request
Bad Request: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 400 38
Received get_details request from user user1 for transaction None
Transaction ID not provided in request
Bad Request: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 400 38
Received get_details request from user user1 for transaction None
Transaction ID not provided in request
Bad Request: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 400 38
Received get_details request from user user2 for transaction None
Transaction ID not provided in request
Bad Request: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 400 38
Received get_details request from user user1 for transaction None
Transaction ID not provided in request
Bad Request: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 400 38
Received get_details request from user user1 for transaction None
Transaction ID not provided in request
Bad Request: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 400 38
Received get_details request from user user1 for transaction None
Transaction ID not provided in request
Bad Request: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 400 38
Received get_details request from user user1 for transaction None
Transaction ID not provided in request
Bad Request: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 400 38
Received get_details request from user user1 for transaction None
Transaction ID not provided in request
Bad Request: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 400 38
/code/assignment/views.py changed, reloading.
Watching for file changes with StatReloader
Received get_details request from user user1 for transaction None
Transaction ID not provided in request
Bad Request: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 400 38
Received get_details request from user user1 for transaction None
Transaction ID not provided in request
Bad Request: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 400 38
/code/assignment/views.py changed, reloading.
Watching for file changes with StatReloader
Received get_details request from user user1 for transaction None
Transaction ID not provided in request
Bad Request: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 400 38
/code/assignment/views.py changed, reloading.
Watching for file changes with StatReloader
Received get_details request from user user1 for transaction None
Transaction ID not provided in request
Bad Request: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 400 38
/code/assignment/views.py changed, reloading.
Watching for file changes with StatReloader
Received get_details request from user user1 for transaction None
Transaction ID not provided in request
Bad Request: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 400 38
Received get_details request from user user1 for transaction None
Transaction ID not provided in request
Bad Request: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 400 38
/code/assignment/views.py changed, reloading.
Watching for file changes with StatReloader
Received get_details request from user user1 for transaction 1
Retrieved roles for user user1: ['admin', 'editor']
Constructed Cerbos payload: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {1: {}}}, 'actions': ['get_details']}
Cerbos API response: 200, {"resourceInstances":{"1":{"actions":{"get_details":"EFFECT_ALLOW"}}}}
Permission check result for user user1, action get_details on resource 1: True
Permission granted for user user1 to perform get_details on transaction 1
"GET /api/get_details/ HTTP/1.1" 200 45
/code/assignment/views.py changed, reloading.
Watching for file changes with StatReloader
/code/assignment/views.py changed, reloading.
Watching for file changes with StatReloader
/code/assignment/views.py changed, reloading.
Watching for file changes with StatReloader
Received get_details request from user user1 for transaction 1
Retrieved roles for user user1: ['admin', 'editor']
Constructed Cerbos payload: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {1: {}}}, 'actions': ['get_details']}
Cerbos API response: 200, {"resourceInstances":{"1":{"actions":{"get_details":"EFFECT_ALLOW"}}}}
Permission check result for user user1, action get_details on resource 1: True
Permission granted for user user1 to perform get_details on transaction 1
"GET /api/get_details/ HTTP/1.1" 200 45
Received get_details request from user user1 for transaction 2
Retrieved roles for user user1: ['admin', 'editor']
Constructed Cerbos payload: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {2: {}}}, 'actions': ['get_details']}
Cerbos API response: 200, {"resourceInstances":{"2":{"actions":{"get_details":"EFFECT_ALLOW"}}}}
Permission check result for user user1, action get_details on resource 2: True
Permission granted for user user1 to perform get_details on transaction 2
"GET /api/get_details/ HTTP/1.1" 200 45
Received get_details request from user user1 for transaction 1
Retrieved roles for user user1: ['admin', 'editor']
Constructed Cerbos payload: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {1: {}}}, 'actions': ['get_details']}
Cerbos API response: 200, {"resourceInstances":{"1":{"actions":{"get_details":"EFFECT_ALLOW"}}}}
Permission check result for user user1, action get_details on resource 1: True
Permission granted for user user1 to perform get_details on transaction 1
"GET /api/get_details/ HTTP/1.1" 200 45
Received get_details request from user user2 for transaction 1
Retrieved roles for user user2: ['viewer']
Constructed Cerbos payload: {'principal': {'id': 'user2', 'roles': ['viewer']}, 'resource': {'kind': 'transaction', 'instances': {1: {}}}, 'actions': ['get_details']}
Cerbos API response: 200, {"resourceInstances":{"1":{"actions":{"get_details":"EFFECT_DENY"}}}}
Permission check result for user user2, action get_details on resource 1: False
Permission denied for user user2 to perform get_details on transaction 1
Forbidden: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 403 0
Received get_details request from user user3 for transaction 1
Retrieved roles for user user3: ['editor', 'viewer']
Constructed Cerbos payload: {'principal': {'id': 'user3', 'roles': ['editor', 'viewer']}, 'resource': {'kind': 'transaction', 'instances': {1: {}}}, 'actions': ['get_details']}
Cerbos API response: 200, {"resourceInstances":{"1":{"actions":{"get_details":"EFFECT_ALLOW"}}}}
Permission check result for user user3, action get_details on resource 1: True
Permission granted for user user3 to perform get_details on transaction 1
"GET /api/get_details/ HTTP/1.1" 200 45
Received get_details request from user user1 for transaction 1
Retrieved roles for user user1: ['admin', 'editor']
Constructed Cerbos payload: {'principal': {'id': 'user1', 'roles': ['admin', 'editor']}, 'resource': {'kind': 'transaction', 'instances': {1: {}}}, 'actions': ['get_details']}
Cerbos API response: 200, {"resourceInstances":{"1":{"actions":{"get_details":"EFFECT_ALLOW"}}}}
Permission check result for user user1, action get_details on resource 1: True
Permission granted for user user1 to perform get_details on transaction 1
"GET /api/get_details/ HTTP/1.1" 200 45
/code/assignment/serializers.py changed, reloading.
Watching for file changes with StatReloader
/code/assignment/serializers.py changed, reloading.
Watching for file changes with StatReloader
/code/assignment/serializers.py changed, reloading.
Watching for file changes with StatReloader
/code/assignment/views.py changed, reloading.
Watching for file changes with StatReloader
/code/assignment/cerbos_utils.py changed, reloading.
Watching for file changes with StatReloader
/code/assignment/cerbos_utils.py changed, reloading.
Watching for file changes with StatReloader
/code/assignment/views.py changed, reloading.
Watching for file changes with StatReloader
/code/assignment/utils.py changed, reloading.
Watching for file changes with StatReloader
/code/assignment/views.py changed, reloading.
Watching for file changes with StatReloader
Invalid data received: {'transaction_id': [ErrorDetail(string='This field is required.', code='required')]}
Bad Request: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 400 46
Invalid data received: {'transaction_id': [ErrorDetail(string='This field is required.', code='required')]}
Bad Request: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 400 46
Invalid data received: {'transaction_id': [ErrorDetail(string='This field is required.', code='required')]}
Bad Request: /api/get_details/
"GET /api/get_details/ HTTP/1.1" 400 46
/code/assignment/utils.py changed, reloading.
Watching for file changes with StatReloader
